Starting a Gradle Daemon (subsequent builds will be faster)
> Task :app:checkKotlinGradlePluginConfigurationErrors SKIPPED
> Task :app:preBuild UP-TO-DATE
> Task :app:preDebugBuild UP-TO-DATE
> Task :app:generateDebugBuildConfig UP-TO-DATE
> Task :app:checkDebugAarMetadata UP-TO-DATE
> Task :app:generateDebugResValues UP-TO-DATE
> Task :app:processDebugGoogleServices UP-TO-DATE
> Task :app:mapDebugSourceSetPaths UP-TO-DATE
> Task :app:generateDebugResources UP-TO-DATE
> Task :app:mergeDebugResources UP-TO-DATE
> Task :app:packageDebugResources UP-TO-DATE
> Task :app:parseDebugLocalResources UP-TO-DATE
> Task :app:createDebugCompatibleScreenManifests UP-TO-DATE
> Task :app:extractDeepLinksDebug UP-TO-DATE
> Task :app:processDebugMainManifest UP-TO-DATE
> Task :app:processDebugManifest UP-TO-DATE
> Task :app:processDebugManifestForPackage UP-TO-DATE
> Task :app:processDebugResources UP-TO-DATE
> Task :app:kspDebugKotlin UP-TO-DATE
> Task :app:compileDebugKotlin UP-TO-DATE
> Task :app:javaPreCompileDebug UP-TO-DATE
> Task :app:compileDebugJavaWithJavac UP-TO-DATE
> Task :app:bundleDebugClassesToRuntimeJar UP-TO-DATE
> Task :app:bundleDebugClassesToCompileJar UP-TO-DATE
> Task :app:kspDebugUnitTestKotlin UP-TO-DATE
> Task :app:compileDebugUnitTestKotlin UP-TO-DATE
> Task :app:preDebugUnitTestBuild UP-TO-DATE
> Task :app:javaPreCompileDebugUnitTest UP-TO-DATE
> Task :app:compileDebugUnitTestJavaWithJavac NO-SOURCE
> Task :app:processDebugJavaRes UP-TO-DATE
> Task :app:processDebugUnitTestJavaRes UP-TO-DATE

> Task :app:testDebugUnitTest

PostNotificationsPermissionTest > test_04_manifestHasPostNotificationsPermission FAILED
    java.lang.AssertionError at PostNotificationsPermissionTest.kt:89

OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended

> Task :app:testDebugUnitTest

MqttDeviceScannerTest > searchDevices handles publish failure gracefully FAILED
    java.lang.AssertionError at MqttDeviceScannerTest.kt:67

MqttMessageHandlerTest > parseNotificationPayload returns NotificationInfo for valid JSON FAILED
    java.lang.AssertionError at MqttMessageHandlerTest.kt:109

MqttMessageHandlerTest > processMessage handles device discovery response FAILED
    java.lang.AssertionError at MqttMessageHandlerTest.kt:39

MqttMessageHandlerTest > parseNotificationPayload handles missing fields with defaults FAILED
    java.lang.AssertionError at MqttMessageHandlerTest.kt:137

MqttMessageHandlerTest > processMessage handles device status update FAILED
    java.lang.AssertionError at MqttMessageHandlerTest.kt:55

MqttNotificationSenderTest > sendNotification includes user info in payload when set FAILED
    java.lang.AssertionError at MqttNotificationSenderTest.kt:103

MqttNotificationSenderTest > sendGeneralNotification publishes to general topic when connected FAILED
    java.lang.AssertionError at MqttNotificationSenderTest.kt:142

MqttNotificationSenderTest > sendNotification publishes to correct topic when connected FAILED
    java.lang.AssertionError at MqttNotificationSenderTest.kt:74

MqttNotificationSenderTest > sendGeneralNotification includes timestamp in payload FAILED
    java.lang.AssertionError at MqttNotificationSenderTest.kt:162

BankNotificationParserTest > extract full names with middle initial FAILED
    java.lang.AssertionError at BankNotificationParserTest.kt:127

BankNotificationParserTest > parse payment notification from image example FAILED
    java.lang.AssertionError at BankNotificationParserTest.kt:42

BankNotificationParserTest > extract transaction code with different formats FAILED
    org.junit.ComparisonFailure at BankNotificationParserTest.kt:165

BankNotificationParserTest > detect operation type correctly FAILED
    java.lang.AssertionError at BankNotificationParserTest.kt:183

BankNotificationParserTest > parse transfer with transaction code FAILED
    java.lang.AssertionError at BankNotificationParserTest.kt:54

OEMResilienceTest > test_11_rapidStateChanges FAILED
    java.lang.AssertionError at OEMResilienceTest.kt:302

OEMResilienceTest > test_07_android12Compatibility FAILED
    java.lang.AssertionError at OEMResilienceTest.kt:189

PairDeviceWithTokenUseCaseTest > invoke with valid token should save pairing and connect MQTT FAILED
    java.lang.IllegalArgumentException at PairDeviceWithTokenUseCaseTest.kt:43

PairDeviceWithTokenUseCaseTest > invoke should fail if repository save fails FAILED
    java.lang.IllegalArgumentException at PairDeviceWithTokenUseCaseTest.kt:110

PairDeviceWithTokenUseCaseTest > invoke should fail if MQTT connection fails FAILED
    java.lang.IllegalArgumentException at PairDeviceWithTokenUseCaseTest.kt:129

PairDeviceWithTokenUseCaseTest > invoke should generate correct MQTT topic format FAILED
    java.lang.IllegalArgumentException at PairDeviceWithTokenUseCaseTest.kt:159

PairDeviceWithTokenUseCaseTest > invoke with lowercase token should normalize to uppercase FAILED
    java.lang.AssertionError at PairDeviceWithTokenUseCaseTest.kt:89

SendNotificationToDeviceUseCaseTest > invoke should propagate MQTT publish errors FAILED
    java.lang.RuntimeException at SendNotificationToDeviceUseCaseTest.kt:89

SendNotificationToDeviceUseCaseTest > invoke with paired device should publish to correct topic FAILED
    java.lang.RuntimeException at SendNotificationToDeviceUseCaseTest.kt:43

SendNotificationToDeviceUseCaseTest > invoke should handle notifications with empty content FAILED
    java.lang.RuntimeException at SendNotificationToDeviceUseCaseTest.kt:112

SendNotificationToDeviceUseCaseTest > invoke without paired device should fail with NoDevicePairedException FAILED
    java.lang.RuntimeException at SendNotificationToDeviceUseCaseTest.kt:67

AuthViewModelTest > updateLoginEmail - muestra error para email inválido FAILED
    java.lang.AssertionError at Assert.java:89
        Caused by: java.lang.AssertionError at AuthViewModelTest.kt:463

AuthViewModelTest > registerWithEmail - usuario existente muestra error FAILED
    java.lang.RuntimeException at AuthViewModelTest.kt:294

AuthViewModelTest > signOut - maneja errores gracefully FAILED
    app.cash.turbine.TurbineAssertionError at AuthViewModelTest.kt:413
        Caused by: kotlinx.coroutines.JobCancellationException at JobSupport.kt:1558
            Caused by: kotlinx.coroutines.JobCancellationException at AuthViewModelTest.kt:413

AuthViewModelTest > signInWithEmail - error de red muestra mensaje apropiado FAILED
    app.cash.turbine.TurbineAssertionError at AuthViewModelTest.kt:237
        Caused by: kotlinx.coroutines.JobCancellationException at JobSupport.kt:1558
            Caused by: kotlinx.coroutines.JobCancellationException at AuthViewModelTest.kt:237

AuthViewModelTest > handleGoogleSignInResult - resultado nulo muestra error FAILED
    java.lang.AssertionError at Assert.java:89
        Caused by: java.lang.AssertionError at AuthViewModelTest.kt:367

AuthViewModelTest > signInWithEmail - credenciales inválidas muestra error FAILED
    java.lang.RuntimeException at AuthViewModelTest.kt:207

316 tests completed, 32 failed

> Task :app:testDebugUnitTest FAILED

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':app:testDebugUnitTest'.
> There were failing tests. See the report at: file:///data/reddeadth/apps/android/NotificationManager/app/build/reports/tests/testDebugUnitTest/index.html

* Try:
> Run with --scan to get full insights.

BUILD FAILED in 1m 24s
27 actionable tasks: 1 executed, 26 up-to-date
